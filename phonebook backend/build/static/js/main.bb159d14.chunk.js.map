{"version":3,"sources":["components/Filter.js","components/Persons.js","components/NewNumbers.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","filters","setFilters","value","onChange","e","target","Person","persons","handleDelete","filter","person","name","toLowerCase","includes","map","key","id","number","type","onClick","NewNumbers","handleNameChange","handleNumberChange","handleSubmit","newName","newNumber","onSubmit","Notification","message","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","errorMessage","setErrorMessage","updatePerson","userObject","personService","updateInfo","console","log","setTimeout","catch","err","useEffect","innitialPersons","handleFilter","preventDefault","existingUserId","contact","exists","i","length","window","confirm","returnedPersons","concat","Persons","confirmation","afterDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bb159d14.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ filters, setFilters }) => {\r\n  const handleFilterChange = (e) => {\r\n    setFilters(e.target.value);\r\n  };\r\n  return (\r\n    <form>\r\n      filter show with <input value={filters} onChange={handleFilterChange} />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst Person = ({ persons, filters, handleDelete }) => {\r\n  return (\r\n    <div>\r\n      {persons\r\n        .filter((person) => {\r\n          return person.name.toLowerCase().includes(filters);\r\n        })\r\n        .map((person) => (\r\n          <p key={person.id}>\r\n            {person.name} {person.number} {person.id}{' '}\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => handleDelete(person.id, person.name)}>\r\n              delete\r\n            </button>\r\n          </p>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\n// .filter((person) => person.name.toLowerCase().includes(filters))\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\n\r\nconst NewNumbers = ({\r\n  handleNameChange,\r\n  handleNumberChange,\r\n  handleSubmit,\r\n  newName,\r\n  newNumber,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n          number: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewNumbers;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message }) => {\r\n  // console.log(message);\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  return <div className={message[1]}>{message[0]}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl).then((response) => {\r\n    return response.data;\r\n  });\r\n};\r\n\r\nconst create = (newObject) => {\r\n  return axios.post(baseUrl, newObject).then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n  // console.log(object);\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, remove };\r\n","import React, { useState, useEffect } from 'react';\n\nimport Filter from './components/Filter';\nimport Persons from './components/Persons';\nimport NewNumbers from './components/NewNumbers';\nimport Notification from './components/Notification';\n\nimport personService from './services/persons';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filters, setFilters] = useState('');\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const contact = { name: newName, number: newNumber };\n    let exists = false;\n    let existingUserId;\n    for (let i = 0; i < persons.length; i++) {\n      //Check if the contact name is not alreayd added\n      if (persons[i].name.toLowerCase() === newName.toLowerCase()) {\n        exists = true;\n        existingUserId = persons[i].id;\n      }\n    }\n    if (newName === '' && newNumber === '') {\n      setErrorMessage(['Name and Number fields should not be empty', 'danger']);\n      setTimeout(() => setErrorMessage(null), 5000);\n      return;\n    } else if (newName === '') {\n      setErrorMessage(['Name field should not be empty', 'danger']);\n      setTimeout(() => setErrorMessage(null), 5000);\n      return;\n    } else if (newNumber === '') {\n      setErrorMessage(['Number field should not be empty', 'danger']);\n      setTimeout(() => setErrorMessage(null), 5000);\n      return;\n    }\n\n    exists\n      ? window.confirm(\n          `${newName} is already added to phonebook, replace the old one with a new one?`\n        )\n        ? updatePerson(existingUserId, contact)\n        : console.log('Not added')\n      : personService\n          .create(contact)\n          .then((returnedPersons) => {\n            setPersons(persons.concat(returnedPersons));\n            setErrorMessage([`Added ${newName} `, 'success']);\n            setTimeout(() => setErrorMessage(null), 5000);\n          })\n          .catch((err) => {\n            setErrorMessage([err.response.data.message, 'danger']);\n            setTimeout(() => setErrorMessage(null), 5000);\n          });\n  };\n\n  const handleFilter = () => {\n    console.log('filters');\n  };\n\n  const handleDelete = (id, name) => {\n    console.log('deleting ...');\n    console.log('id', id);\n    const confirmation = window.confirm(`Delete ${name}`);\n    console.log(confirmation);\n\n    confirmation\n      ? personService\n          .remove(id)\n          .then((response) => {\n            console.log('deleted', response);\n            setErrorMessage([\n              `${name} has succeccfully been deleted`,\n              'danger',\n            ]);\n            setTimeout(() => setErrorMessage(null), 5000);\n            const afterDelete = persons.filter((person) => {\n              console.log(person.id, response.id, id);\n              return person.id !== id;\n            });\n            console.log('after', afterDelete);\n            setPersons(afterDelete);\n          })\n          .catch((err) => {\n            setErrorMessage([err.response.data.message, 'danger']);\n            setTimeout(() => setErrorMessage(null), 5000);\n          })\n      : console.log('not deleted');\n  };\n\n  const updatePerson = (id, userObject) => {\n    personService\n      .update(id, userObject)\n      .then((updateInfo) => {\n        console.log(updateInfo);\n        setPersons(\n          persons.map((person) => (person.id !== id ? person : updateInfo))\n        );\n        setErrorMessage([`${newName} has been updated`, 'success']);\n        setTimeout(() => setErrorMessage(null), 5000);\n        console.log(persons);\n      })\n      .catch((err) => {\n        setErrorMessage([err.response.data.message, 'danger']);\n        setTimeout(() => setErrorMessage(null), 5000);\n      });\n  };\n  const personsHook = () => {\n    personService.getAll().then((innitialPersons) => {\n      setPersons(innitialPersons.filter((person) => person.name !== null));\n    });\n  };\n  useEffect(personsHook, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <Filter\n        filters={filters}\n        setFilters={setFilters}\n        handleFilter={handleFilter}\n      />\n      <h2>Add a new</h2>\n      <NewNumbers\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        handleSubmit={handleSubmit}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        filters={filters}\n        handleDelete={handleDelete}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}